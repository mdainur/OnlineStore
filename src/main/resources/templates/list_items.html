<html xmlns:th = "http://www.thymeleaf.org"
      xmlns:layout = "http://ultraq.net.nz/thymeleaf/layout"
      layout:decorator = "layout/main.html">

<div layout:fragment = "site_content">

    <div class="container">
        <div class="row mt-3">
            <div class="col-sm-3" th:insert="~{layout/customerMenu}">
            </div>
            <div class="col-sm-9">
                <form th:action="@{'/search'}" method="get">
                    <div class="row">
                        <div class="col-sm-9">
                            <input class="form-control" type="text" name="name" th:placeholder="#{search}"  aria-label="Search">
                        </div>
                        <div class="col-sm-3">
                            <button class="btn btn-outline-success btn-block" style="color: white; background-color: #156145" type="submit" th:text="#{search}"></button>
                        </div>
                    </div>
                </form>
                <br>
                <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                        <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
                        <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
                        <li data-target="#carouselExampleCaptions" data-slide-to="3"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="icons/carusel1.jpg" width="500" height="300" class="d-block w-100" alt="...">
                            <div class="carousel-caption d-none d-md-block" style="background-color: rgba(20,97,69,0.5); color: white">
                                <h5 th:text="#{welcome}"></h5>
                                <p th:text="#{slogan}"></p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="https://www.howtogeek.com/thumbcache/2/200/e49cd20021fdd7de80ba3dfbafe1f5b6/wp-content/uploads/2017/05/can-high-humidity-damage-electronic-devices-00.png" width="500" height="300" class="d-block w-100" alt="...">
                            <div class="carousel-caption d-none d-md-block" style="background-color: rgba(20,97,69,0.5); color: white">
                                <h5 th:text="#{welcome}"></h5>
                                <p th:text="#{slogan}"></p>
                            </div>
                        </div>

                        <div class="carousel-item">
                            <img src="icons/carusel2.jpg" width="500" height="300" class="d-block w-100" alt="...">
                            <div class="carousel-caption d-none d-md-block" style="background-color: rgba(20,97,69,0.5); color: white">
                                <h5 th:text="#{welcome}"></h5>
                                <p th:text="#{slogan}"></p>
                            </div>
                        </div>

                        <div class="carousel-item">
                            <img src="https://i7a3x6u3.stackpathcdn.com/wp-content/uploads/2016/11/Spectre_Saf_Gallery_zoom2.jpg" width="500" height="300" class="d-block w-100" alt="...">
                            <div class="carousel-caption d-none d-md-block" style="background-color: rgba(20,97,69,0.5); color: white">
                                <h5 th:text="#{welcome}"></h5>
                                <p th:text="#{slogan}"></p>
                            </div>
                        </div>

                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
                <br>

                <div class="row row-cols-1 row-cols-md-3 mt-3">
                    <div class="col mb-3" th:each="i:${all_items}">
                        <div class="card">
                            <!--style="width: 13rem; height: 24rem"  style="height: 19rem; width: 12rem"-->
                            <span class="border border-dark"><a th:href="@{'/details/' + ${i.id}}"><img style="height: 8rem" th:src="${i.smallPictureUrl}" class="card-img-top" alt="..."></a></span>
                            <div class="card-body">
                                <a th:href="@{'/details/' + ${i.getId()}}"><h5 class="card-title" th:text="${i.name}"></h5></a>
                                <h6 class="card-title" th:text="${i.price + ' TG'}"></h6>

                                <p class="card-text" style="font-size: 80%; font-weight: bold" th:text="#{description} + ': ' + ${i.description}"></p>
                                <h6><a th:href="@{'/search?brand_id=' + ${i.brand.id}}" th:text="${i.brand.country!=null? i.brand.name + ', ' + i.brand.country.code : '-'}"></a></h6>

                            </div>
                            <div class="card-footer" style="width: 12rem">
                            <img style="height: 15px;width: 15px;margin-left: 3px" src="icons/star_y.png" th:each="i : ${#numbers.sequence(0,i.getStars()-1,1)}" class="card-img-top" alt="...">
                            <img style=" height: 15px;width: 15px;margin-left: 3px" src="icons/star.png" th:each="i:${#numbers.sequence(0,5 -(i.getStars())-1,1)}" class="card-img-top" alt="...">
                            </div>
                            <div class="card-footer" style="width: 12rem">
                                <a class="btn btn-block" style="background-color: gold; color: black" th:href="${'/addToCart/' + i.id}"><span style="font-weight: bold" th:text="#{addToCart}"></span><img style="width: 30px; height: 30px;" src="/icons/cart_other.png" alt=""></a>
                            </div>
                        </div>
                    </div>
                </div>
                <br>
            </div>
        </div>

    </div>
</div>
</html>